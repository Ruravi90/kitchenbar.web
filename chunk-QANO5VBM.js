import{c as L}from"./chunk-64WP64BE.js";import{b as U,c as X,e as Z,f as $,g as ee,h as te,j as ie}from"./chunk-RUSD7P4Y.js";import"./chunk-J6VSZILJ.js";import{a as J,g as H,n as Q}from"./chunk-4JEEGTY5.js";import"./chunk-4HF4CYB4.js";import{b as Y,c as q}from"./chunk-BJ7UQRZ4.js";import{b as W,d as O,g as z,n as A,s as K}from"./chunk-BFCD6XJQ.js";import"./chunk-4YRY4IP2.js";import{e as G,l as R}from"./chunk-JY4AAIVW.js";import{$ as I,A as l,B as s,Ca as B,Da as j,N as m,O as M,W as g,Y as b,Ya as F,Za as P,ba as n,ca as r,da as f,ha as w,ia as c,ja as h,na as D,r as x,sb as V,ta as S,ua as u,v as k,va as E,w as v,wa as N,xa as T,ya as C,za as y}from"./chunk-VUSRYWWQ.js";var ae=()=>({width:"100%"}),le=t=>({"border-top-1 surface-border":t});function se(t,d){t&1&&f(0,"img",21)}function pe(t,d){if(t&1){let e=w();n(0,"div",24)(1,"div",25)(2,"div",26)(3,"div",27),u(4),r()(),n(5,"div",28)(6,"p-button",29),c("click",function(){let i=l(e).$implicit,p=h(2);return s(p.showModal(!0,i))}),r()(),n(7,"div",28)(8,"p-button",30),c("click",function(){let i=l(e).$implicit,p=h(2);return s(p.confirmDeleted(i))}),r()()()()}if(t&2){let e=d.$implicit,o=d.first;m(),b("ngClass",j(2,le,!o)),m(3),E(e.name)}}function me(t,d){if(t&1&&(n(0,"div",22),g(1,pe,9,4,"div",23),r()),t&2){let e=d.$implicit;m(),b("ngForOf",e)}}function ce(t,d){if(t&1){let e=w();n(0,"div",31)(1,"div",32),f(2,"i",33),r(),n(3,"span",34),u(4),r(),n(5,"p",35),u(6),r(),n(7,"div",36)(8,"button",37),c("click",function(){l(e),h();let i=S(27);return s(i.accept())}),r(),n(9,"button",38),c("click",function(){l(e),h();let i=S(27);return s(i.reject())}),r()()()}if(t&2){let e=d.$implicit;m(4),N(" ",e.header," "),m(2),E(e.message)}}var oe=(()=>{class t{constructor(e,o){this.confirmationService=e,this.tablesServices=o,this.tables=[],this.table={},this.visibleModal=!1,this.isEdit=!1}ngOnInit(){this.getTables()}getTables(){this.tablesServices.getItemsByInstance().subscribe({next:e=>{this.tables=e},error:e=>console.error(e)})}showModal(e=!1,o){this.isEdit=e,e?this.table=o:this.table=new L,this.visibleModal=!0}confirmSave(){this.isEdit?this.tablesServices.updateItem(this.table.id,this.table).subscribe({next:e=>this.getTables(),error:e=>console.error(e)}):this.tablesServices.createItem(this.table).subscribe({next:e=>this.getTables(),error:e=>console.error(e)}),this.visibleModal=!1}confirmDeleted(e){this.confirmationService.confirm({header:"Estas seguro de eliminar?",message:"Por favor de confirmar.",accept:()=>{this.tablesServices.deleteItem(e.id).subscribe({next:o=>this.getTables(),error:o=>console.error(o)})}})}static{this.\u0275fac=function(o){return new(o||t)(M(G),M(A))}}static{this.\u0275cmp=k({type:t,selectors:[["app-tables"]],decls:29,vars:13,consts:[["dv",""],["cd",""],["header","Mesas",1,""],["pTemplate","header"],[1,"w-full"],[1,"pi","pi-search"],["type","text","pInputText","","placeholder","Buscar"],["type","button","pButton","","icon","pi pi-plus","size","small","pTooltip","Nueva mesa",1,"p-button-success",3,"click"],["emptyMessage","Sin mesas registradas",3,"value","rows","paginator"],["pTemplate","list"],[3,"visibleChange","header","modal","visible"],[1,"formgrid","grid","gap-3","mb-3","mt-3"],[1,"field","col-12"],["for","tableName"],["id","tableName","type","text",1,"text-base","text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary","w-full",3,"ngModelChange","ngModel"],["for","Description"],["id","Description","rows","2","cols","30","pInputTextarea","","placeholder","Descripcion",3,"ngModelChange","autoResize","ngModel"],[1,"flex","justify-content-end","gap-2"],["label","Cancelar","severity","secondary",3,"click"],["label","Guardar",3,"click"],["pTemplate","headless"],["alt","Card","src","../../../../assets/layout/images/restaurante.webp",2,"max-height","15vh","object-fit","cover"],[1,"grid","grid-nogutter","p-4"],["class","col-12",4,"ngFor","ngForOf"],[1,"col-12"],[1,"grid","p-2",3,"ngClass"],[1,"col"],[1,"overflow-hidden","text-overflow-ellipsis","text-md","font-medium","text-900","mt-2",2,"width","100px"],[1,"col-fixed","gap-1"],["icon","pi pi-pencil","size","small","pTooltip","Editar",3,"click"],["severity","danger","icon","pi pi-trash","size","small","pTooltip","Eliminar",3,"click"],[1,"flex","flex-column","align-items-center","p-5","surface-overlay","border-round"],[1,"border-circle","bg-primary","inline-flex","justify-content-center","align-items-center","h-6rem","w-6rem"],[1,"pi","pi-question","text-5xl"],[1,"font-bold","text-2xl","block","mb-2","mt-4"],[1,"mb-0"],[1,"flex","align-items-center","gap-2","mt-4"],["pButton","","label","Si",1,"w-8rem",3,"click"],["pButton","","label","No",1,"p-button-outlined","w-8rem",3,"click"]],template:function(o,i){if(o&1){let p=w();n(0,"p-card",2),g(1,se,1,0,"ng-template",3),n(2,"div")(3,"p-inputGroup",4)(4,"p-inputGroupAddon"),f(5,"i",5),r(),f(6,"input",6),n(7,"button",7),c("click",function(){return l(p),s(i.showModal())}),r()(),n(8,"p-dataView",8,0),g(10,me,2,1,"ng-template",9),r()()(),n(11,"p-dialog",10),y("visibleChange",function(a){return l(p),C(i.visibleModal,a)||(i.visibleModal=a),s(a)}),n(12,"div",11)(13,"div",12)(14,"label",13),u(15,"Nombre de mesa"),r(),n(16,"input",14),y("ngModelChange",function(a){return l(p),C(i.table.name,a)||(i.table.name=a),s(a)}),r()(),n(17,"div",12)(18,"label",15),u(19,"Descripcion"),r(),n(20,"textarea",16),y("ngModelChange",function(a){return l(p),C(i.table.additional,a)||(i.table.additional=a),s(a)}),u(21,"            "),r()()(),n(22,"div",17)(23,"p-button",18),c("click",function(){return l(p),s(i.visibleModal=!1)}),r(),n(24,"p-button",19),c("click",function(){return l(p),s(i.confirmSave())}),r()()(),f(25,"p-toast"),n(26,"p-confirmDialog",null,1),g(28,ce,10,2,"ng-template",20),r()}o&2&&(m(8),b("value",i.tables)("rows",5)("paginator",!0),m(3),D("header","",i.isEdit?"Editar":"Nueva"," mesa"),b("modal",!0),T("visible",i.visibleModal),m(5),T("ngModel",i.table.name),m(4),I(B(12,ae)),b("autoResize",!0),T("ngModel",i.table.additional))},dependencies:[F,P,Y,q,R,K,W,O,z,J,X,Q,Z,$,U,te,ee,H],styles:[".button-table[_ngcontent-%COMP%]{appearance:none;background-color:#fcfcfd;border-radius:4px;border-width:0;box-shadow:#2d234266 0 2px 4px,#2d23424d 0 7px 13px -3px,#d6d6e7 0 -3px inset;box-sizing:border-box;color:#36395a;cursor:pointer;font-family:JetBrains Mono,monospace;height:35vh;width:30vw;list-style:none;overflow:hidden;padding-left:16px;padding-right:16px;position:relative;text-decoration:none;transition:box-shadow .15s,transform .15s;user-select:none;-webkit-user-select:none;touch-action:manipulation;white-space:nowrap;will-change:box-shadow,transform;font-size:18px}.button-table[_ngcontent-%COMP%]:focus{box-shadow:#d6d6e7 0 0 0 1.5px inset,#2d234266 0 2px 4px,#2d23424d 0 7px 13px -3px,#d6d6e7 0 -3px inset}.button-table[_ngcontent-%COMP%]:hover{box-shadow:#2d234266 0 4px 8px,#2d23424d 0 7px 13px -3px,#d6d6e7 0 -3px inset;transform:translateY(-2px)}.button-table[_ngcontent-%COMP%]:active{box-shadow:#d6d6e7 0 3px 7px inset;transform:translateY(2px)}"]})}}return t})();var re=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=v({type:t})}static{this.\u0275inj=x({imports:[V.forChild([{path:"",component:oe}]),V]})}}return t})();var Pe=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=v({type:t})}static{this.\u0275inj=x({imports:[re,ie]})}}return t})();export{Pe as TablesModule};
