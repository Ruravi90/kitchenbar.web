import{h as A,j as D}from"./chunk-IXSFSNLD.js";import"./chunk-J6VSZILJ.js";import{a as $,g as q,n as z}from"./chunk-65D7KFAQ.js";import"./chunk-ETYH724P.js";import{b as N,c as j}from"./chunk-BJ7UQRZ4.js";import{n as R,p as P}from"./chunk-MLSKFZ7F.js";import"./chunk-4YRY4IP2.js";import{g as f,l as F}from"./chunk-JY4AAIVW.js";import{$ as y,Aa as w,Ca as I,Da as M,N as o,O as c,W as p,Y as n,Ya as k,Za as B,_a as E,ba as a,ca as r,da as l,e as _,ja as g,ma as x,na as C,qb as O,r as d,sb as h,ua as u,v as T,va as S,w as m,wa as v}from"./chunk-VUSRYWWQ.js";var Y=()=>({width:"100%"}),Z=e=>({"border-top-1 surface-border":e});function H(e,s){e&1&&l(0,"i",21)}function J(e,s){e&1&&l(0,"i",22)}function G(e,s){if(e&1&&l(0,"button",23),e&2){let t=g().$implicit;x("pTooltip",t.isRequestAttendace?"Necesita asistencia":""),n("rounded",!0)("text",!t.isRequestAttendace)("raised",!0)}}function K(e,s){if(e&1&&l(0,"button",24),e&2){let t=g().$implicit;x("pTooltip",t.isRequestCheck?"Solicito la cuenta":""),n("rounded",!0)("text",!t.isRequestCheck)("raised",!0)}}function Q(e,s){if(e&1&&(a(0,"div",10)(1,"div",11)(2,"div",12),p(3,H,1,0,"i",13)(4,J,1,0,"i",14),r(),a(5,"div",15)(6,"div",16),u(7),r()(),a(8,"div",17),p(9,G,1,4,"button",18),r(),a(10,"div",17),p(11,K,1,4,"button",19),r(),a(12,"div",17),l(13,"p-button",20),r()()()),e&2){let t=s.$implicit,i=s.first;o(),n("ngClass",M(11,Z,!i)),o(2),n("ngIf",!t.isBusy),o(),n("ngIf",t.isBusy),o(3),S(t.name),o(2),n("ngIf",t.isBusy),o(2),n("ngIf",t.isBusy),o(2),C("routerLink","/kitchen/table/",t.identity,""),n("rounded",!0)("text",!0)("raised",!0)}}function U(e,s){if(e&1&&(a(0,"div",8),p(1,Q,14,13,"div",9),r()),e&2){let t=s.$implicit;o(),n("ngForOf",t)}}function X(e,s){if(e&1&&(a(0,"section",25),l(1,"i",26),a(2,"div",27)(3,"p",28),u(4),r(),a(5,"p",29),u(6),r()()()),e&2){let t=s.$implicit;o(4),v(" ",t.summary," "),o(2),v(" ",t.detail," ")}}var V=(()=>{class e{constructor(t,i,b){this.messageService=t,this.tableServices=i,this.hub=b,this.isBusyTableService=!1}ngOnInit(){this.retrieveTables(),this.hub.notificationWarnTables().subscribe(t=>{t.isRequestAttendace&&this.messageService.add({summary:"Asistencia",detail:`La ${t.name} necesita ayuda`,life:3e3}),t.isRequestCheck&&this.messageService.add({summary:"Cuenta",detail:`La ${t.name} solicito la cuenta`,life:3e3}),this.retrieveTables()}),this.hub.notificationDangerTables().subscribe(t=>{console.log("notificationWarnAttendace",t),this.messageService.add({summary:"Asistencia",detail:"Se solicito asistencia",life:3e3}),this.retrieveTables()})}delay(t){return _(this,null,function*(){return new Promise(i=>setTimeout(i,t))})}retrieveTables(){this.isBusyTableService||(this.isBusyTableService=!0,this.tableServices.getItemsByInstance().subscribe({next:t=>{this.isBusyTableService=!1,this.tables=t},error:t=>{this.isBusyTableService=!1}}))}static{this.\u0275fac=function(i){return new(i||e)(c(f),c(R),c(P))}}static{this.\u0275cmp=T({type:e,selectors:[["app-tables"]],features:[w([f])],decls:8,vars:5,consts:[["dv",""],[1,"grid"],[1,"col-10","col-offset-1"],["header","Mesas"],["emptyMessage","Sin mesas registradas",3,"value"],["pTemplate","list"],["position","top-center",3,"baseZIndex"],["pTemplate","headless"],[1,"grid","grid-nogutter"],["class","col-12 m-1",4,"ngFor","ngForOf"],[1,"col-12","m-1"],[1,"grid",3,"ngClass"],[1,"col-fixed"],["class","pi pi-bookmark mt-2","style","font-size: 1.5rem","pTooltip","Mesa disponible",4,"ngIf"],["class","pi pi-bookmark-fill mt-2","style","font-size: 1.5rem","pTooltip","Mesa ocupada",4,"ngIf"],[1,"col"],[1,"font-medium","text-700","mt-2"],[1,"col-fixed","gap-1"],["pButton","","icon","pi pi-flag-fill","class","p-button-info",3,"rounded","text","raised","pTooltip",4,"ngIf"],["pButton","","icon","pi pi-dollar","class","p-button-warning",3,"rounded","text","raised","pTooltip",4,"ngIf"],["icon","pi pi-sign-in","pTooltip","Ver detalles de la mesa",3,"routerLink","rounded","text","raised"],["pTooltip","Mesa disponible",1,"pi","pi-bookmark","mt-2",2,"font-size","1.5rem"],["pTooltip","Mesa ocupada",1,"pi","pi-bookmark-fill","mt-2",2,"font-size","1.5rem"],["pButton","","icon","pi pi-flag-fill",1,"p-button-info",3,"rounded","text","raised","pTooltip"],["pButton","","icon","pi pi-dollar",1,"p-button-warning",3,"rounded","text","raised","pTooltip"],[1,"flex","p-3","gap-3","w-full","bg-black-alpha-90","shadow-2",2,"border-radius","10px"],[1,"pi","pi-info","text-primary-300","text-2xl"],[1,"flex","flex-column","gap-3","w-full"],[1,"m-0","font-semibold","text-base","text-white"],[1,"m-0","text-base","text-400"]],template:function(i,b){i&1&&(a(0,"div",1)(1,"div",2)(2,"p-card",3)(3,"p-dataView",4,0),p(5,U,2,1,"ng-template",5),r()()()(),a(6,"p-toast",6),p(7,X,7,2,"ng-template",7),r()),i&2&&(o(2),y(I(4,Y)),o(),n("value",b.tables),o(3),n("baseZIndex",5e3))},dependencies:[O,k,B,E,N,j,F,$,z,A,q],styles:[".button-table[_ngcontent-%COMP%]{appearance:none;background-color:var(--primary-color);border-radius:4px;border-width:0;box-shadow:#2d234266 0 2px 4px,#2d23424d 0 7px 13px -3px,var(--highlight-text-color) 0 -3px 0 inset;box-sizing:border-box;color:#36395a;cursor:pointer;font-family:JetBrains Mono,monospace;list-style:none;overflow:hidden;padding-left:16px;padding-right:16px;position:relative;text-decoration:none;transition:box-shadow .15s,transform .15s;user-select:none;-webkit-user-select:none;touch-action:manipulation;white-space:nowrap;will-change:box-shadow,transform;font-size:18px}.button-table[_ngcontent-%COMP%]:focus{box-shadow:#d6d6e7 0 0 0 1.5px inset,#2d234266 0 2px 4px,#2d23424d 0 7px 13px -3px,var(--highlight-text-color) 0 -3px 0 inset}.button-table[_ngcontent-%COMP%]:hover{box-shadow:#2d234266 0 4px 8px,#2d23424d 0 7px 13px -3px,var(--highlight-text-color) 0 -3px 0 inset;transform:translateY(-2px)}.button-table[_ngcontent-%COMP%]:active{box-shadow:#d6d6e7 0 3px 7px inset;transform:translateY(2px)}@media (hover: hover) and (pointer: fine){.button-table[_ngcontent-%COMP%]{height:20vi;width:35vi}}@media (hover: none) and (pointer: coarse){.button-table[_ngcontent-%COMP%]{height:25vi;width:41vi}}"]})}}return e})();var W=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=m({type:e})}static{this.\u0275inj=d({imports:[h.forChild([{path:"",component:V}]),h]})}}return e})();var he=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=m({type:e})}static{this.\u0275inj=d({imports:[W,D]})}}return e})();export{he as TablesModule};
