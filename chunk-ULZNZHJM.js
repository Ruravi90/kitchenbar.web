import{a as W}from"./chunk-L7AC5IDC.js";import{a as z}from"./chunk-AUG6JJXM.js";import"./chunk-UUS4ZWI4.js";import{d as D}from"./chunk-64WP64BE.js";import{h as q,k as H}from"./chunk-IFFKKBZV.js";import"./chunk-BQVHG75P.js";import"./chunk-OSNXDCNO.js";import{b as G,d as K}from"./chunk-QFKRZ7EC.js";import{b as U}from"./chunk-GQ2UZOTQ.js";import{b as V,d as B,e as E,f as F,g as T,h as R,t as O}from"./chunk-5C42LTVV.js";import"./chunk-4YRY4IP2.js";import{g as A}from"./chunk-IDCO3KAE.js";import{Aa as b,Ba as x,C as d,D as u,Ea as S,N as C,P as a,Q as p,Y as I,_ as c,ab as N,ba as k,da as i,ea as n,fa as g,ja as L,ka as v,pa as j,sb as P,t as f,vb as _,wa as m,x as M,y as h,za as w}from"./chunk-LVDDLAXI.js";var J=()=>({width:"100%"});function Z(e,$){e&1&&(i(0,"div",21)(1,"div",13),g(2,"p-checkbox",22),i(3,"label",23),m(4,"Remember me"),n()(),i(5,"a",24),m(6,"Forgot password?"),n()()),e&2&&(a(2),c("binary",!0))}var X=(()=>{class e{constructor(t,o,r,l){this.uS=t,this.layoutService=o,this.messageService=r,this.router=l,this.user=new D,this.isBusy=!1,this.isAuthorized=null,localStorage.removeItem("user")}ngOnInit(){this.isBusy=!1}login(){this.isBusy=!0,this.uS.login(this.user).subscribe({next:t=>{this.isAuthorized=!0,t.instanceId!=null?this.router.navigate(["/kitchen/tables"]):this.router.navigate(["/admin/licenses"])},error:t=>{t.error.statusCode==403?this.messageService.add({severity:"warn",summary:"Alerta",detail:t.error.messages}):t.error.statusCode==401?this.messageService.add({severity:"warn",summary:"Alerta",detail:"Usuario u/o Contrase\xF1a incorrectos"}):this.messageService.add({severity:"danger",summary:"Error",detail:t.error.messages})}}),this.isBusy=!1,this.isAuthorized=!1}register(){this.router.navigate(["/auth/register"])}static{this.\u0275fac=function(o){return new(o||e)(p(z),p(W),p(A),p(P))}}static{this.\u0275cmp=M({type:e,selectors:[["app-login"]],decls:29,vars:13,consts:[["loginForm","ngForm"],["user_name","ngModel"],["password","ngModel"],[1,"surface-ground","flex","align-items-center","justify-content-center","min-h-screen","min-w-screen","overflow-hidden"],[1,"flex","flex-column","align-items-center","justify-content-center"],["alt","Kitchen Bar logo",1,"mb-3","w-10rem","flex-shrink-0",3,"src"],[2,"border-radius","56px","padding","0.3rem","background","linear-gradient(180deg, var(--primary-color) 10%, rgba(33, 150, 243, 0) 30%)"],[1,"w-full","surface-card","py-8","px-5","sm:px-8",2,"border-radius","53px"],[1,"text-center","mb-5"],[1,"text-600","font-medium"],[1,"card-body"],[3,"submit"],[1,"flex","flex-column","m-2"],[1,"flex","align-items-center"],["for","email1",1,"block","text-900","text-xl","font-medium","mb-2"],["id","email1","type","text","name","user_name","placeholder","usuer@kitenbar","pInputText","",3,"ngModelChange","ngModel"],["for","password1",1,"block","text-900","font-medium","text-xl","mb-2"],["id","password1","name","password","inputStyleClass","w-full","placeholder","Password",3,"ngModelChange","ngModel","inputStyle","toggleMask","feedback"],["class","flex align-items-center justify-content-between mb-5 gap-5",4,"ngIf"],["pButton","","pRipple","","label","Iniciar",1,"w-full","p-3","mt-3","text-xl"],["pButton","","pRipple","","label","Registrar",1,"w-full","p-3","text-xl","mt-3",3,"click","severity"],[1,"flex","align-items-center","justify-content-between","mb-5","gap-5"],["id","rememberme1","styleClass","mr-2",3,"binary"],["for","rememberme1"],[1,"font-medium","no-underline","ml-2","text-right","cursor-pointer",2,"color","var(--primary-color)"]],template:function(o,r){if(o&1){let l=L();i(0,"div",3)(1,"div",4),g(2,"img",5),i(3,"div",6)(4,"div",7)(5,"div",8)(6,"span",9),m(7,"Iniciar sesion"),n()(),i(8,"div",10)(9,"form",11,0),v("submit",function(){return d(l),u(r.login())}),i(11,"div",12)(12,"div",13)(13,"label",14),m(14,"Usuario"),n()(),i(15,"div",13)(16,"input",15,1),x("ngModelChange",function(s){return d(l),b(r.user.user_name,s)||(r.user.user_name=s),u(s)}),n()()(),i(18,"div",12)(19,"div",13)(20,"label",16),m(21,"Password"),n()(),i(22,"div",13)(23,"p-password",17,2),x("ngModelChange",function(s){return d(l),b(r.user.password,s)||(r.user.password=s),u(s)}),n()()(),I(25,Z,7,1,"div",18),g(26,"button",19),n(),i(27,"button",20),v("click",function(){return d(l),u(r.register())}),n()()()()()(),g(28,"p-toast")}o&2&&(a(2),j("src","assets/layout/images/",r.layoutService.config().colorScheme==="light"?"logo-dark":"logo-white",".svg",C),a(14),k(S(11,J)),w("ngModel",r.user.user_name),a(7),w("ngModel",r.user.password),c("inputStyle",S(12,J))("toggleMask",!0)("feedback",!1),a(2),c("ngIf",!1),a(2),c("severity","secondary"))},dependencies:[N,U,G,O,R,V,B,E,T,F,K,q],styles:["[_nghost-%COMP%]     .pi-eye, [_nghost-%COMP%]     .pi-eye-slash{transform:scale(1.6);margin-right:1rem;color:var(--primary-color)!important}"]})}}return e})();var Y=(()=>{class e{static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275mod=h({type:e})}static{this.\u0275inj=f({imports:[_.forChild([{path:"",component:X}]),_]})}}return e})();var be=(()=>{class e{static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275mod=h({type:e})}static{this.\u0275inj=f({imports:[Y,H]})}}return e})();export{be as LoginModule};
