import{a as K,b as A,j as G}from"./chunk-RUSD7P4Y.js";import"./chunk-J6VSZILJ.js";import{a as H,n as z}from"./chunk-4JEEGTY5.js";import"./chunk-4HF4CYB4.js";import{b as R,c as q}from"./chunk-BJ7UQRZ4.js";import{m as B,p as P}from"./chunk-BFCD6XJQ.js";import"./chunk-4YRY4IP2.js";import{e as y,l as D}from"./chunk-JY4AAIVW.js";import{$ as S,A as p,Aa as M,B as _,Ca as T,Da as F,N as o,O,W as d,Y as l,Ya as j,Za as N,_a as $,ba as s,ca as r,da as w,e as I,ha as v,ia as u,ja as c,r as C,sb as E,ta as b,ua as f,v as k,va as x,w as h,wa as V}from"./chunk-VUSRYWWQ.js";var W=()=>({width:"100%"}),X=()=>({width:"450px"}),Y=t=>({"border-top-1 surface-border":t});function Z(t,a){t&1&&w(0,"img",23)}function ee(t,a){t&1&&w(0,"img",24)}function te(t,a){if(t&1){let e=v();s(0,"div",18)(1,"p-button",25),u("onClick",function(n){p(e);let m=c().$implicit,g=c(2),U=b(10);return _(g.toggleComents(n,U,m))}),r()()}}function ie(t,a){if(t&1){let e=v();s(0,"div",18)(1,"p-button",26),u("onClick",function(n){p(e);let m=c().$implicit,g=c(2);return _(g.changeStatusOrder(n,m,2))}),r()()}}function ne(t,a){if(t&1){let e=v();s(0,"div",18)(1,"p-button",27),u("onClick",function(n){p(e);let m=c().$implicit,g=c(2);return _(g.changeStatusOrder(n,m,3))}),r()()}if(t&2){let e=c().$implicit;o(),l("disabled",e.statusOrderId===1)}}function re(t,a){if(t&1&&(s(0,"div",13)(1,"div",14)(2,"div",15),d(3,Z,1,0,"img",16)(4,ee,1,0,"img",17),r(),s(5,"div",18)(6,"div",19),f(7),r()(),s(8,"div",20)(9,"div",21),f(10),r()(),d(11,te,2,0,"div",22)(12,ie,2,0,"div",22)(13,ne,2,1,"div",22),r()()),t&2){let e=a.$implicit,i=a.first;o(),l("ngClass",F(8,Y,!i)),o(2),l("ngIf",e.statusOrderId==1&&!e.isCancel),o(),l("ngIf",e.statusOrderId==2&&!e.isCancel),o(3),x(e.table==null?null:e.table.name),o(3),x(e.quantity+" "+(e.meal==null?null:e.meal.name)),o(),l("ngIf",e.aditional!=null),o(),l("ngIf",e.statusOrderId!=2),o(),l("ngIf",e.statusOrderId!=3)}}function oe(t,a){if(t&1&&(s(0,"div",11),d(1,re,14,10,"div",12),r()),t&2){let e=a.$implicit;o(),l("ngForOf",e)}}function se(t,a){if(t&1){let e=v();s(0,"div",28)(1,"div",29),w(2,"i",30),r(),s(3,"span",31),f(4),r(),s(5,"p",32),f(6),r(),s(7,"div",33)(8,"button",34),u("click",function(){p(e),c();let n=b(7);return _(n.accept())}),r(),s(9,"button",35),u("click",function(){p(e),c();let n=b(7);return _(n.reject())}),r()()()}if(t&2){let e=a.$implicit;o(4),V(" ",e.header," "),o(2),x(e.message)}}function ae(t,a){if(t&1&&(s(0,"div",19),f(1),r()),t&2){let e=c();o(),x(e.coments)}}var L=(()=>{class t{constructor(e,i,n){this.confirmationService=e,this._serviceOrder=i,this.hub=n}ngOnInit(){return I(this,null,function*(){this.retrieveOrders(),this.hub.receiveOrderToKitchen().subscribe(e=>{this.retrieveOrders()})})}delay(e){return I(this,null,function*(){return new Promise(i=>setTimeout(i,e))})}retrieveOrders(){this._serviceOrder.getItemsByInstance().subscribe({next:e=>{this.items=e.filter(i=>i.isCancel==!1&&(i.statusOrderId==1||i.statusOrderId==2))},error:e=>console.error(e)})}changeStatusOrder(e,i,n){this.confirmationService.confirm({target:e.target,message:"",header:n==2?"Se inicio con la preparacion?":"Se envio el alimento?",accept:()=>{i.statusOrderId=n,this._serviceOrder.updateItem(i.id,i).subscribe({next:m=>{this.hub.sendOrder(i)},error:m=>console.error(m)})}})}toggleComents(e,i,n){this.coments=n.aditional,i.toggle(e)}static{this.\u0275fac=function(i){return new(i||t)(O(y),O(B),O(P))}}static{this.\u0275cmp=k({type:t,selectors:[["app-tables"]],features:[M([y])],decls:12,vars:8,consts:[["dv",""],["cd",""],["op",""],[1,"grid"],[1,"col-lg-10","col-sm-12","col-lg-offset-2"],["header","Ordenes"],["emptyMessage","Sin ordenes en proceso",3,"value"],["pTemplate","list"],["pTemplate","headless"],[3,"showCloseIcon"],["pTemplate","content"],[1,"grid","grid-nogutter"],["class","col-12",4,"ngFor","ngForOf"],[1,"col-12"],[1,"grid",3,"ngClass"],[1,"col-fixed"],["alt","dropdown icon","src","/assets/images/icon/process.svg","style","width: 25px;",4,"ngIf"],["alt","dropdown icon","src","/assets/images/icon/uniform.svg","style","width: 25px;",4,"ngIf"],[1,"col-fixed","gap-1"],[1,"font-medium","text-700","mt-2"],[1,"col","gap-2"],[1,"text-lg","font-medium","text-900","mt-2"],["class","col-fixed gap-1",4,"ngIf"],["alt","dropdown icon","src","/assets/images/icon/process.svg",2,"width","25px"],["alt","dropdown icon","src","/assets/images/icon/uniform.svg",2,"width","25px"],["severity","secondary","icon","pi pi-comment",1,"flex-auto","md:align-items-end","white-space-nowrap",3,"onClick"],["severity","warning","icon","pi pi-flag",1,"flex-auto","md:align-items-end","white-space-nowrap",3,"onClick"],["severity","help","icon","pi pi-send",1,"flex-auto","md:align-items-end","white-space-nowrap",3,"onClick","disabled"],[1,"flex","flex-column","align-items-center","p-5","surface-overlay","border-round"],[1,"border-circle","bg-primary","inline-flex","justify-content-center","align-items-center","h-6rem","w-6rem"],[1,"pi","pi-question","text-5xl"],[1,"font-bold","text-2xl","block","mb-2","mt-4"],[1,"mb-0"],[1,"flex","align-items-center","gap-2","mt-4"],["pButton","","label","Si",1,"w-8rem",3,"click"],["pButton","","label","No",1,"p-button-outlined","w-8rem",3,"click"]],template:function(i,n){i&1&&(s(0,"div",3)(1,"div",4)(2,"p-card",5)(3,"p-dataView",6,0),d(5,oe,2,1,"ng-template",7),r()()()(),s(6,"p-confirmDialog",null,1),d(8,se,10,2,"ng-template",8),r(),s(9,"p-overlayPanel",9,2),d(11,ae,2,1,"ng-template",10),r()),i&2&&(o(2),S(T(6,W)),o(),l("value",n.items),o(6),S(T(7,X)),l("showCloseIcon",!0))},dependencies:[j,N,$,R,q,D,H,K,z,A]})}}return t})();var Q=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=h({type:t})}static{this.\u0275inj=C({imports:[E.forChild([{path:"",component:L}]),E]})}}return t})();var Se=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=h({type:t})}static{this.\u0275inj=C({imports:[Q,G]})}}return t})();export{Se as OrdersModule};
