import{a as je,b as Fe}from"./chunk-I274AQX2.js";import{h as Ee,i as Me,j as De,k as Re}from"./chunk-737QNFMI.js";import{c as Le,e as Ve}from"./chunk-FDCLM4BU.js";import{b as Te,c as ke,d as Se}from"./chunk-BJ3AG4RX.js";import{d as be,g as xe}from"./chunk-JSWT4IH4.js";import{i as ve,j as K,l as Pe}from"./chunk-YKTI5QJU.js";import{c as ge,d as Z,f as V,g as E,h as $}from"./chunk-4YRY4IP2.js";import{c as M,e as D,h as ye,i as Ce,l as R,m as Q,o as v,p as we,q as Oe,r as Ie}from"./chunk-P3S5YJFO.js";import{$ as z,$a as fe,A as p,B as m,Ca as ce,Ea as N,F as H,Fa as de,G as Y,Ga as B,H as U,I as G,M as X,N as s,O as f,Qa as pe,R as J,Ra as O,Sa as me,V as ee,W as u,X as A,Xa as ue,Y as d,_a as k,aa as te,ab as S,bb as he,cb as _e,e as F,ea as l,fa as a,fb as L,ga as b,gb as P,ja as ie,ka as g,la as _,ma as c,na as ne,oa as oe,r as y,ra as re,ta as se,ua as ae,ub as q,v as I,va as T,w as C,wa as x,xa as w,ya as le}from"./chunk-SBAOVUZ3.js";var qe=["*"],Ke=(i,r)=>({showTransitionParams:i,hideTransitionParams:r}),We=(i,r)=>({value:i,params:r});function Ye(i,r){i&1&&ie(0)}function Ue(i,r){i&1&&b(0,"TimesIcon",8),i&2&&d("styleClass","p-overlaypanel-close-icon")}function Ge(i,r){}function Xe(i,r){i&1&&u(0,Ge,0,0,"ng-template")}function Je(i,r){if(i&1&&(l(0,"span",9),u(1,Xe,1,0,null,3),a()),i&2){let e=c(3);s(),d("ngTemplateOutlet",e.closeIconTemplate)}}function et(i,r){if(i&1){let e=g();l(0,"button",5),_("click",function(n){p(e);let o=c(2);return m(o.onCloseClick(n))})("keydown.enter",function(){p(e);let n=c(2);return m(n.hide())}),u(1,Ue,1,1,"TimesIcon",6)(2,Je,2,1,"span",7),a()}if(i&2){let e=c(2);A("aria-label",e.ariaCloseLabel),s(),d("ngIf",!e.closeIconTemplate),s(),d("ngIf",e.closeIconTemplate)}}function tt(i,r){if(i&1){let e=g();l(0,"div",1),_("click",function(n){p(e);let o=c();return m(o.onOverlayClick(n))})("@animation.start",function(n){p(e);let o=c();return m(o.onAnimationStart(n))})("@animation.done",function(n){p(e);let o=c();return m(o.onAnimationEnd(n))}),l(1,"div",2),_("click",function(n){p(e);let o=c();return m(o.onContentClick(n))})("mousedown",function(n){p(e);let o=c();return m(o.onContentClick(n))}),oe(2),u(3,Ye,1,0,"ng-container",3),a(),u(4,et,3,3,"button",4),a()}if(i&2){let e=c();te(e.styleClass),d("ngClass","p-overlaypanel p-component")("ngStyle",e.style)("@animation",B(13,We,e.overlayVisible?"open":"close",B(10,Ke,e.showTransitionOptions,e.hideTransitionOptions))),A("aria-modal",e.overlayVisible)("aria-label",e.ariaLabel)("aria-labelledBy",e.ariaLabelledBy),s(3),d("ngTemplateOutlet",e.contentTemplate),s(),d("ngIf",e.showCloseIcon)}}var He=(()=>{class i{document;platformId;el;renderer;cd;zone;config;overlayService;ariaLabel;ariaLabelledBy;dismissable=!0;showCloseIcon;style;styleClass;appendTo="body";autoZIndex=!0;ariaCloseLabel;baseZIndex=0;focusOnShow=!0;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";onShow=new H;onHide=new H;templates;container;overlayVisible=!1;render=!1;isOverlayAnimationInProgress=!1;selfClick=!1;documentClickListener;target;willHide;scrollHandler;documentResizeListener;contentTemplate;closeIconTemplate;destroyCallback;overlayEventListener;overlaySubscription;constructor(e,t,n,o,h,j,Be,Ze){this.document=e,this.platformId=t,this.el=n,this.renderer=o,this.cd=h,this.zone=j,this.config=Be,this.overlayService=Ze}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;case"closeicon":this.closeIconTemplate=e.template;break;default:this.contentTemplate=e.template;break}this.cd.markForCheck()})}bindDocumentClickListener(){if(P(this.platformId)&&!this.documentClickListener&&this.dismissable){let e=v.isIOS()?"touchstart":"click",t=this.el?this.el.nativeElement.ownerDocument:this.document;this.documentClickListener=this.renderer.listen(t,e,n=>{!this.container?.contains(n.target)&&this.target!==n.target&&!this.target.contains(n.target)&&!this.selfClick&&this.hide(),this.selfClick=!1,this.cd.markForCheck()})}}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null,this.selfClick=!1)}toggle(e,t){this.isOverlayAnimationInProgress||(this.overlayVisible?(this.hasTargetChanged(e,t)&&(this.destroyCallback=()=>{this.show(null,t||e.currentTarget||e.target)}),this.hide()):this.show(e,t))}show(e,t){t&&e&&e.stopPropagation(),!this.isOverlayAnimationInProgress&&(this.target=t||e.currentTarget||e.target,this.overlayVisible=!0,this.render=!0,this.cd.markForCheck())}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement}),this.selfClick=!0}onContentClick(e){let t=e.target;this.selfClick=e.offsetX<t.clientWidth&&e.offsetY<t.clientHeight}hasTargetChanged(e,t){return this.target!=null&&this.target!==(t||e.currentTarget||e.target)}appendContainer(){this.appendTo&&(this.appendTo==="body"?this.renderer.appendChild(this.document.body,this.container):v.appendChild(this.container,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.renderer.appendChild(this.el.nativeElement,this.container)}align(){this.autoZIndex&&M.set("overlay",this.container,this.baseZIndex+this.config.zIndex.overlay),v.absolutePosition(this.container,this.target,!1);let e=v.getOffset(this.container),t=v.getOffset(this.target),n=this.document.defaultView?.getComputedStyle(this.container).getPropertyValue("border-radius"),o=0;e.left<t.left&&(o=t.left-e.left-parseFloat(n)*2),this.container?.style.setProperty("--overlayArrowLeft",`${o}px`),e.top<t.top&&(v.addClass(this.container,"p-overlaypanel-flipped"),this.showCloseIcon&&this.renderer.setStyle(this.container,"margin-top","-30px"))}onAnimationStart(e){e.toState==="open"&&(this.container=e.element,this.appendContainer(),this.align(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.focusOnShow&&this.focus(),this.overlayEventListener=t=>{this.container&&this.container.contains(t.target)&&(this.selfClick=!0)},this.overlaySubscription=this.overlayService.clickObservable.subscribe(this.overlayEventListener),this.onShow.emit(null)),this.isOverlayAnimationInProgress=!0}onAnimationEnd(e){switch(e.toState){case"void":this.destroyCallback&&(this.destroyCallback(),this.destroyCallback=null),this.overlaySubscription&&this.overlaySubscription.unsubscribe();break;case"close":this.autoZIndex&&M.clear(this.container),this.overlaySubscription&&this.overlaySubscription.unsubscribe(),this.onContainerDestroy(),this.onHide.emit({}),this.render=!1;break}this.isOverlayAnimationInProgress=!1}focus(){let e=v.findSingle(this.container,"[autofocus]");e&&this.zone.runOutsideAngular(()=>{setTimeout(()=>e.focus(),5)})}hide(){this.overlayVisible=!1,this.cd.markForCheck()}onCloseClick(e){this.hide(),e.preventDefault()}onEscapeKeydown(e){this.hide()}onWindowResize(){this.overlayVisible&&!v.isTouchDevice()&&this.hide()}bindDocumentResizeListener(){if(P(this.platformId)&&!this.documentResizeListener){let e=this.document.defaultView;this.documentResizeListener=this.renderer.listen(e,"resize",this.onWindowResize.bind(this))}}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindScrollListener(){P(this.platformId)&&(this.scrollHandler||(this.scrollHandler=new we(this.target,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener())}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onContainerDestroy(){this.cd.destroyed||(this.target=null),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&M.clear(this.container),this.cd.destroyed||(this.target=null),this.destroyCallback=null,this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.overlaySubscription&&this.overlaySubscription.unsubscribe()}static \u0275fac=function(t){return new(t||i)(f(ue),f(G),f(U),f(J),f(pe),f(Y),f(Ce),f(ye))};static \u0275cmp=I({type:i,selectors:[["p-overlayPanel"]],contentQueries:function(t,n,o){if(t&1&&re(o,R,4),t&2){let h;se(h=ae())&&(n.templates=h)}},hostAttrs:[1,"p-element"],hostBindings:function(t,n){t&1&&_("keydown.escape",function(h){return n.onEscapeKeydown(h)},!1,X)},inputs:{ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",dismissable:[2,"dismissable","dismissable",O],showCloseIcon:[2,"showCloseIcon","showCloseIcon",O],style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:[2,"autoZIndex","autoZIndex",O],ariaCloseLabel:"ariaCloseLabel",baseZIndex:[2,"baseZIndex","baseZIndex",me],focusOnShow:[2,"focusOnShow","focusOnShow",O],showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onShow:"onShow",onHide:"onHide"},features:[ee],ngContentSelectors:qe,decls:1,vars:1,consts:[["role","dialog",3,"ngClass","ngStyle","class","click",4,"ngIf"],["role","dialog",3,"click","ngClass","ngStyle"],[1,"p-overlaypanel-content",3,"click","mousedown"],[4,"ngTemplateOutlet"],["type","button","class","p-overlaypanel-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],["type","button","pRipple","",1,"p-overlaypanel-close","p-link",3,"click","keydown.enter"],[3,"styleClass",4,"ngIf"],["class","p-overlaypanel-close-icon",4,"ngIf"],[3,"styleClass"],[1,"p-overlaypanel-close-icon"]],template:function(t,n){t&1&&(ne(),u(0,tt,5,16,"div",0)),t&2&&d("ngIf",n.render)},dependencies:()=>[k,S,_e,he,Oe,K],styles:[`@layer primeng{.p-overlaypanel{position:absolute;margin-top:10px;top:0;left:0}.p-overlaypanel-flipped{margin-top:0;margin-bottom:10px}.p-overlaypanel-close{display:flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-overlaypanel:after,.p-overlaypanel:before{bottom:100%;left:calc(var(--overlayArrowLeft, 0) + 1.25rem);content:" ";height:0;width:0;position:absolute;pointer-events:none}.p-overlaypanel:after{border-width:8px;margin-left:-8px}.p-overlaypanel:before{border-width:10px;margin-left:-10px}.p-overlaypanel-shifted:after,.p-overlaypanel-shifted:before{left:auto;right:1.25em;margin-left:auto}.p-overlaypanel-flipped:after,.p-overlaypanel-flipped:before{bottom:auto;top:100%}.p-overlaypanel.p-overlaypanel-flipped:after{border-bottom-color:transparent}.p-overlaypanel.p-overlaypanel-flipped:before{border-bottom-color:transparent}}
`],encapsulation:2,data:{animation:[ge("animation",[E("void",V({transform:"scaleY(0.8)",opacity:0})),E("close",V({opacity:0})),E("open",V({transform:"translateY(0)",opacity:1})),$("void => open",Z("{{showTransitionParams}}")),$("open => close",Z("{{hideTransitionParams}}"))])]},changeDetection:0})}return i})(),Ae=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=C({type:i});static \u0275inj=y({imports:[L,Ie,Q,K,Q]})}return i})();var nt=()=>({width:"100%"}),ot=()=>({width:"450px"}),rt=i=>({"border-top-1 surface-border":i});function st(i,r){i&1&&b(0,"img",23)}function at(i,r){i&1&&b(0,"img",24)}function lt(i,r){if(i&1){let e=g();l(0,"div",18)(1,"p-button",25),_("onClick",function(n){p(e);let o=c().$implicit,h=c(2),j=T(10);return m(h.toggleComents(n,j,o))}),a()()}}function ct(i,r){if(i&1){let e=g();l(0,"div",18)(1,"p-button",26),_("onClick",function(n){p(e);let o=c().$implicit,h=c(2);return m(h.changeStatusOrder(n,o,2))}),a()()}}function dt(i,r){if(i&1){let e=g();l(0,"div",18)(1,"p-button",27),_("onClick",function(n){p(e);let o=c().$implicit,h=c(2);return m(h.changeStatusOrder(n,o,3))}),a()()}if(i&2){let e=c().$implicit;s(),d("disabled",e.statusOrderId===1)}}function pt(i,r){if(i&1&&(l(0,"div",13)(1,"div",14)(2,"div",15),u(3,st,1,0,"img",16)(4,at,1,0,"img",17),a(),l(5,"div",18)(6,"div",19),x(7),a()(),l(8,"div",20)(9,"div",21),x(10),a()(),u(11,lt,2,0,"div",22)(12,ct,2,0,"div",22)(13,dt,2,1,"div",22),a()()),i&2){let e=r.$implicit,t=r.first;s(),d("ngClass",de(8,rt,!t)),s(2),d("ngIf",e.statusOrderId==1&&!e.isCancel),s(),d("ngIf",e.statusOrderId==2&&!e.isCancel),s(3),w(e.table==null?null:e.table.name),s(3),w(e.quantity+" "+(e.meal==null?null:e.meal.name)),s(),d("ngIf",e.aditional!=null),s(),d("ngIf",e.statusOrderId!=2),s(),d("ngIf",e.statusOrderId!=3)}}function mt(i,r){if(i&1&&(l(0,"div",11),u(1,pt,14,10,"div",12),a()),i&2){let e=r.$implicit;s(),d("ngForOf",e)}}function ut(i,r){if(i&1){let e=g();l(0,"div",28)(1,"div",29),b(2,"i",30),a(),l(3,"span",31),x(4),a(),l(5,"p",32),x(6),a(),l(7,"div",33)(8,"button",34),_("click",function(){p(e),c();let n=T(7);return m(n.accept())}),a(),l(9,"button",35),_("click",function(){p(e),c();let n=T(7);return m(n.reject())}),a()()()}if(i&2){let e=r.$implicit;s(4),le(" ",e.header," "),s(2),w(e.message)}}function ft(i,r){if(i&1&&(l(0,"div",19),x(1),a()),i&2){let e=c();s(),w(e.coments)}}var ze=(()=>{class i{constructor(e,t,n){this.confirmationService=e,this._serviceOrder=t,this.hub=n}ngOnInit(){return F(this,null,function*(){this.retrieveOrders(),this.hub.receiveOrderToKitchen().subscribe(e=>{this.retrieveOrders()})})}delay(e){return F(this,null,function*(){return new Promise(t=>setTimeout(t,e))})}retrieveOrders(){this._serviceOrder.getItemsByInstance().subscribe({next:e=>{this.items=e.filter(t=>t.isCancel==!1&&(t.statusOrderId==1||t.statusOrderId==2))},error:e=>console.error(e)})}changeStatusOrder(e,t,n){this.confirmationService.confirm({target:e.target,message:"",header:n==2?"Se inicio con la preparacion?":"Se envio el alimento?",accept:()=>{t.statusOrderId=n,this._serviceOrder.updateItem(t.id,t).subscribe({next:o=>{this.hub.sendOrder(t)},error:o=>console.error(o)})}})}toggleComents(e,t,n){this.coments=n.aditional,t.toggle(e)}static{this.\u0275fac=function(t){return new(t||i)(f(D),f(be),f(xe))}}static{this.\u0275cmp=I({type:i,selectors:[["app-tables"]],features:[ce([D])],decls:12,vars:8,consts:[["dv",""],["cd",""],["op",""],[1,"grid"],[1,"col-lg-10","col-sm-12","col-lg-offset-2"],["header","Ordenes"],["emptyMessage","Sin ordenes en proceso",3,"value"],["pTemplate","list"],["pTemplate","headless"],[3,"showCloseIcon"],["pTemplate","content"],[1,"grid","grid-nogutter"],["class","col-12",4,"ngFor","ngForOf"],[1,"col-12"],[1,"grid",3,"ngClass"],[1,"col-fixed"],["alt","dropdown icon","src","/assets/images/icon/process.svg","style","width: 25px;",4,"ngIf"],["alt","dropdown icon","src","/assets/images/icon/uniform.svg","style","width: 25px;",4,"ngIf"],[1,"col-fixed","gap-1"],[1,"font-medium","text-700","mt-2"],[1,"col","gap-2"],[1,"text-lg","font-medium","text-900","mt-2"],["class","col-fixed gap-1",4,"ngIf"],["alt","dropdown icon","src","/assets/images/icon/process.svg",2,"width","25px"],["alt","dropdown icon","src","/assets/images/icon/uniform.svg",2,"width","25px"],["severity","secondary","icon","pi pi-comment",1,"flex-auto","md:align-items-end","white-space-nowrap",3,"onClick"],["severity","warning","icon","pi pi-flag",1,"flex-auto","md:align-items-end","white-space-nowrap",3,"onClick"],["severity","help","icon","pi pi-send",1,"flex-auto","md:align-items-end","white-space-nowrap",3,"onClick","disabled"],[1,"flex","flex-column","align-items-center","p-5","surface-overlay","border-round"],[1,"border-circle","bg-primary","inline-flex","justify-content-center","align-items-center","h-6rem","w-6rem"],[1,"pi","pi-question","text-5xl"],[1,"font-bold","text-2xl","block","mb-2","mt-4"],[1,"mb-0"],[1,"flex","align-items-center","gap-2","mt-4"],["pButton","","label","Si",1,"w-8rem",3,"click"],["pButton","","label","No",1,"p-button-outlined","w-8rem",3,"click"]],template:function(t,n){t&1&&(l(0,"div",3)(1,"div",4)(2,"p-card",5)(3,"p-dataView",6,0),u(5,mt,2,1,"ng-template",7),a()()()(),l(6,"p-confirmDialog",null,1),u(8,ut,10,2,"ng-template",8),a(),l(9,"p-overlayPanel",9,2),u(11,ft,2,1,"ng-template",10),a()),t&2&&(s(2),z(N(6,nt)),s(),d("value",n.items),s(6),z(N(7,ot)),d("showCloseIcon",!0))},dependencies:[k,fe,S,Te,ke,R,Ee,De,je,He]})}}return i})();var Ne=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=C({type:i})}static{this.\u0275inj=y({imports:[q.forChild([{path:"",component:ze}]),q]})}}return i})();var ni=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=C({type:i})}static{this.\u0275inj=y({imports:[L,Ne,Se,Le,Pe,ve,Ve,Me,Re,Fe,Ae]})}}return i})();export{ni as OrdersModule};
