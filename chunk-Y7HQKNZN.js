import{a as H,b as G,k as J}from"./chunk-IFFKKBZV.js";import"./chunk-BQVHG75P.js";import{a as A,g as K,n as z}from"./chunk-OSNXDCNO.js";import"./chunk-QFKRZ7EC.js";import{b as R,c as q}from"./chunk-GQ2UZOTQ.js";import{m as $,p as B}from"./chunk-5C42LTVV.js";import"./chunk-4YRY4IP2.js";import{e as b,l as P}from"./chunk-IDCO3KAE.js";import{$a as N,C as p,Ca as M,D as _,Ea as T,Fa as F,P as n,Q as w,Y as c,_ as l,_a as j,ab as D,ba as S,da as s,ea as o,fa as u,g as I,ja as x,ka as f,la as m,t as O,va as y,vb as E,wa as g,x as k,xa as C,y as h,ya as V}from"./chunk-LVDDLAXI.js";var X=()=>({width:"100%"}),Y=()=>({width:"450px"}),Z=t=>({"border-top-1 surface-border":t});function ee(t,a){t&1&&u(0,"img",23)}function te(t,a){t&1&&u(0,"img",24)}function ie(t,a){if(t&1){let e=x();s(0,"div",18)(1,"p-button",25),f("onClick",function(r){p(e);let d=m().$implicit,v=m(2),W=y(10);return _(v.toggleComents(r,W,d))}),o()()}t&2&&(n(),l("rounded",!0)("raised",!0))}function ne(t,a){t&1&&u(0,"img",28)}function re(t,a){if(t&1){let e=x();s(0,"div",18)(1,"p-button",26),f("onClick",function(r){p(e);let d=m().$implicit,v=m(2);return _(v.changeStatusOrder(r,d,2))}),c(2,ne,1,0,"ng-template",27),o()()}t&2&&(n(),l("rounded",!0)("raised",!0))}function oe(t,a){t&1&&u(0,"img",30)}function se(t,a){if(t&1){let e=x();s(0,"div",18)(1,"p-button",29),f("onClick",function(r){p(e);let d=m().$implicit,v=m(2);return _(v.changeStatusOrder(r,d,3))}),c(2,oe,1,0,"ng-template",27),o()()}if(t&2){let e=m().$implicit;n(),l("disabled",e.statusOrderId===1)("rounded",!0)("raised",!0)}}function ae(t,a){if(t&1&&(s(0,"div",13)(1,"div",14)(2,"div",15),c(3,ee,1,0,"img",16)(4,te,1,0,"img",17),o(),s(5,"div",18)(6,"div",19),g(7),o()(),s(8,"div",20)(9,"div",21),g(10),o()(),c(11,ie,2,2,"div",22)(12,re,3,2,"div",22)(13,se,3,3,"div",22),o()()),t&2){let e=a.$implicit,i=a.first;n(),l("ngClass",F(8,Z,!i)),n(2),l("ngIf",e.statusOrderId==1&&!e.isCancel),n(),l("ngIf",e.statusOrderId==2&&!e.isCancel),n(3),C(e.table==null?null:e.table.name),n(3),C(e.quantity+" "+(e.meal==null?null:e.meal.name)),n(),l("ngIf",e.aditional!=null),n(),l("ngIf",e.statusOrderId==1),n(),l("ngIf",e.statusOrderId==2)}}function le(t,a){if(t&1&&(s(0,"div",11),c(1,ae,14,10,"div",12),o()),t&2){let e=a.$implicit;n(),l("ngForOf",e)}}function me(t,a){if(t&1){let e=x();s(0,"div",31)(1,"div",32),u(2,"i",33),o(),s(3,"span",34),g(4),o(),s(5,"p",35),g(6),o(),s(7,"div",36)(8,"button",37),f("click",function(){p(e),m();let r=y(7);return _(r.accept())}),o(),s(9,"button",38),f("click",function(){p(e),m();let r=y(7);return _(r.reject())}),o()()()}if(t&2){let e=a.$implicit;n(4),V(" ",e.header," "),n(2),C(e.message)}}function ce(t,a){if(t&1&&(s(0,"div",19),g(1),o()),t&2){let e=m();n(),C(e.coments)}}var Q=(()=>{class t{constructor(e,i,r){this.confirmationService=e,this._serviceOrder=i,this.hub=r}ngOnInit(){return I(this,null,function*(){this.retrieveOrders(),this.hub.receiveOrderToKitchen().subscribe(e=>{this.retrieveOrders()})})}delay(e){return I(this,null,function*(){return new Promise(i=>setTimeout(i,e))})}retrieveOrders(){this._serviceOrder.getItemsAllPerDay().subscribe({next:e=>{this.items=e.filter(i=>i.isCancel==!1&&(i.statusOrderId==1||i.statusOrderId==2))},error:e=>console.error(e)})}changeStatusOrder(e,i,r){this.confirmationService.confirm({target:e.target,message:"",header:r==2?"Se inicio con la preparacion?":"Se envio el alimento?",accept:()=>{i.statusOrderId=r,this._serviceOrder.updateItem(i.id,i).subscribe({next:d=>{this.hub.sendOrder(i)},error:d=>console.error(d)})}})}toggleComents(e,i,r){this.coments=r.aditional,i.toggle(e)}static{this.\u0275fac=function(i){return new(i||t)(w(b),w($),w(B))}}static{this.\u0275cmp=k({type:t,selectors:[["app-tables"]],features:[M([b])],decls:12,vars:10,consts:[["dv",""],["cd",""],["op",""],[1,"flex","flex-wrap","justify-content-center"],[1,"w-full"],["header","Ordenes"],["emptyMessage","Sin ordenes en proceso",3,"value","rows","paginator"],["pTemplate","list"],["pTemplate","headless"],[3,"showCloseIcon"],["pTemplate","content"],[1,"grid","grid-nogutter"],["class","col-12 pb-2",4,"ngFor","ngForOf"],[1,"col-12","pb-2"],[1,"grid",3,"ngClass"],[1,"col-fixed"],["alt","dropdown icon","src","./assets/images/icon/process.svg","style","width: 25px;",4,"ngIf"],["alt","dropdown icon","src","./assets/images/icon/uniform.svg","style","width: 25px;",4,"ngIf"],[1,"col-fixed","gap-1"],[1,"font-medium","text-700","mt-2"],[1,"col","gap-2"],[1,"text-lg","font-medium","text-900","mt-2"],["class","col-fixed gap-1",4,"ngIf"],["alt","dropdown icon","src","./assets/images/icon/process.svg",2,"width","25px"],["alt","dropdown icon","src","./assets/images/icon/uniform.svg",2,"width","25px"],["severity","secondary","icon","pi pi-comment",3,"onClick","rounded","raised"],["pTooltip","Preparando","severity","warning","icon","./assets/images/icon/process.svg",3,"onClick","rounded","raised"],["pTemplate","buttonicon"],["src","./assets/images/icon/uniform.svg",2,"width","60%"],["pTooltip","Enviado","severity","help","icon","./assets/images/icon/delivery.svg",3,"onClick","disabled","rounded","raised"],["src","./assets/images/icon/delivery.svg",2,"width","60%"],[1,"flex","flex-column","align-items-center","p-5","surface-overlay","border-round"],[1,"border-circle","bg-primary","inline-flex","justify-content-center","align-items-center","h-6rem","w-6rem"],[1,"pi","pi-question","text-5xl"],[1,"font-bold","text-2xl","block","mb-2","mt-4"],[1,"mb-0"],[1,"flex","align-items-center","gap-2","mt-4"],["pButton","","label","Si",1,"w-8rem",3,"click"],["pButton","","label","No",1,"p-button-outlined","w-8rem",3,"click"]],template:function(i,r){i&1&&(s(0,"div",3)(1,"div",4)(2,"p-card",5)(3,"p-dataView",6,0),c(5,le,2,1,"ng-template",7),o()()()(),s(6,"p-confirmDialog",null,1),c(8,me,10,2,"ng-template",8),o(),s(9,"p-overlayPanel",9,2),c(11,ce,2,1,"ng-template",10),o()),i&2&&(n(2),S(T(8,X)),n(),l("value",r.items)("rows",10)("paginator",!0),n(6),S(T(9,Y)),l("showCloseIcon",!0))},dependencies:[j,N,D,R,q,P,A,H,z,G,K]})}}return t})();var U=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=h({type:t})}static{this.\u0275inj=O({imports:[E.forChild([{path:"",component:Q}]),E]})}}return t})();var Ve=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=h({type:t})}static{this.\u0275inj=O({imports:[U,J]})}}return t})();export{Ve as OrdersModule};
