import{a as je,b as Re}from"./chunk-KISY56WU.js";import{h as Ee,i as Me,j as Fe,k as He}from"./chunk-FYYOUDWT.js";import{c as Pe,e as De}from"./chunk-6KHCE25A.js";import{b as ke,c as Se,d as Le}from"./chunk-QUUG4HCO.js";import{d as xe,g as we}from"./chunk-JSWT4IH4.js";import{i as ge,j as W,l as Ve}from"./chunk-FI7I4ISR.js";import{c as ye,d as $,f as D,g as E,h as Q}from"./chunk-XSSXK7EZ.js";import{c as M,e as F,h as be,i as Ce,l as H,m as q,o as v,p as Ie,q as Oe,r as Te}from"./chunk-YYX7IYLV.js";import{$a as S,Aa as ce,B as m,C as u,Ea as pe,G as U,Ga as B,H as A,Ha as de,I as G,Ia as Z,M as X,N as s,O as h,S as J,Sa as me,T as ee,Ta as O,Ua as ue,X as te,Y as f,Ya as fe,Z as z,_ as p,ab as he,ba as N,bb as L,ca as ie,cb as _e,db as ve,e as R,ga as l,gb as P,ha as a,hb as V,ia as x,la as ne,ma as g,na as _,oa as c,pa as oe,qa as re,r as y,ta as se,ub as K,v as b,va as ae,w as T,wa as le,x as C,xa as k,ya as w,za as I}from"./chunk-EN5K7PU7.js";var Ke=["*"],We=(t,o)=>({showTransitionParams:t,hideTransitionParams:o}),Ye=(t,o)=>({value:t,params:o});function Ue(t,o){t&1&&ne(0)}function Ge(t,o){t&1&&x(0,"TimesIcon",8),t&2&&p("styleClass","p-overlaypanel-close-icon")}function Xe(t,o){}function Je(t,o){t&1&&f(0,Xe,0,0,"ng-template")}function et(t,o){if(t&1&&(l(0,"span",9),f(1,Je,1,0,null,3),a()),t&2){let e=c(3);s(),p("ngTemplateOutlet",e.closeIconTemplate)}}function tt(t,o){if(t&1){let e=g();l(0,"button",5),_("click",function(n){m(e);let r=c(2);return u(r.onCloseClick(n))})("keydown.enter",function(){m(e);let n=c(2);return u(n.hide())}),f(1,Ge,1,1,"TimesIcon",6)(2,et,2,1,"span",7),a()}if(t&2){let e=c(2);z("aria-label",e.ariaCloseLabel),s(),p("ngIf",!e.closeIconTemplate),s(),p("ngIf",e.closeIconTemplate)}}function it(t,o){if(t&1){let e=g();l(0,"div",1),_("click",function(n){m(e);let r=c();return u(r.onOverlayClick(n))})("@animation.start",function(n){m(e);let r=c();return u(r.onAnimationStart(n))})("@animation.done",function(n){m(e);let r=c();return u(r.onAnimationEnd(n))}),l(1,"div",2),_("click",function(n){m(e);let r=c();return u(r.onContentClick(n))})("mousedown",function(n){m(e);let r=c();return u(r.onContentClick(n))}),re(2),f(3,Ue,1,0,"ng-container",3),a(),f(4,tt,3,3,"button",4),a()}if(t&2){let e=c();ie(e.styleClass),p("ngClass","p-overlaypanel p-component")("ngStyle",e.style)("@animation",Z(13,Ye,e.overlayVisible?"open":"close",Z(10,We,e.showTransitionOptions,e.hideTransitionOptions))),z("aria-modal",e.overlayVisible)("aria-label",e.ariaLabel)("aria-labelledBy",e.ariaLabelledBy),s(3),p("ngTemplateOutlet",e.contentTemplate),s(),p("ngIf",e.showCloseIcon)}}var Ae=(()=>{class t{document;platformId;el;renderer;cd;zone;config;overlayService;ariaLabel;ariaLabelledBy;dismissable=!0;showCloseIcon;style;styleClass;appendTo="body";autoZIndex=!0;ariaCloseLabel;baseZIndex=0;focusOnShow=!0;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";onShow=new A;onHide=new A;templates;container;overlayVisible=!1;render=!1;isOverlayAnimationInProgress=!1;selfClick=!1;documentClickListener;target;willHide;scrollHandler;documentResizeListener;contentTemplate;closeIconTemplate;destroyCallback;overlayEventListener;overlaySubscription;constructor(e,i,n,r,d,j,Ze,$e){this.document=e,this.platformId=i,this.el=n,this.renderer=r,this.cd=d,this.zone=j,this.config=Ze,this.overlayService=$e}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;case"closeicon":this.closeIconTemplate=e.template;break;default:this.contentTemplate=e.template;break}this.cd.markForCheck()})}bindDocumentClickListener(){if(V(this.platformId)&&!this.documentClickListener&&this.dismissable){let e=v.isIOS()?"touchstart":"click",i=this.el?this.el.nativeElement.ownerDocument:this.document;this.documentClickListener=this.renderer.listen(i,e,n=>{!this.container?.contains(n.target)&&this.target!==n.target&&!this.target.contains(n.target)&&!this.selfClick&&this.hide(),this.selfClick=!1,this.cd.markForCheck()})}}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null,this.selfClick=!1)}toggle(e,i){this.isOverlayAnimationInProgress||(this.overlayVisible?(this.hasTargetChanged(e,i)&&(this.destroyCallback=()=>{this.show(null,i||e.currentTarget||e.target)}),this.hide()):this.show(e,i))}show(e,i){i&&e&&e.stopPropagation(),!this.isOverlayAnimationInProgress&&(this.target=i||e.currentTarget||e.target,this.overlayVisible=!0,this.render=!0,this.cd.markForCheck())}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement}),this.selfClick=!0}onContentClick(e){let i=e.target;this.selfClick=e.offsetX<i.clientWidth&&e.offsetY<i.clientHeight}hasTargetChanged(e,i){return this.target!=null&&this.target!==(i||e.currentTarget||e.target)}appendContainer(){this.appendTo&&(this.appendTo==="body"?this.renderer.appendChild(this.document.body,this.container):v.appendChild(this.container,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.renderer.appendChild(this.el.nativeElement,this.container)}align(){this.autoZIndex&&M.set("overlay",this.container,this.baseZIndex+this.config.zIndex.overlay),v.absolutePosition(this.container,this.target,!1);let e=v.getOffset(this.container),i=v.getOffset(this.target),n=this.document.defaultView?.getComputedStyle(this.container).getPropertyValue("border-radius"),r=0;e.left<i.left&&(r=i.left-e.left-parseFloat(n)*2),this.container?.style.setProperty("--overlayArrowLeft",`${r}px`),e.top<i.top&&(v.addClass(this.container,"p-overlaypanel-flipped"),this.showCloseIcon&&this.renderer.setStyle(this.container,"margin-top","-30px"))}onAnimationStart(e){e.toState==="open"&&(this.container=e.element,this.appendContainer(),this.align(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.focusOnShow&&this.focus(),this.overlayEventListener=i=>{this.container&&this.container.contains(i.target)&&(this.selfClick=!0)},this.overlaySubscription=this.overlayService.clickObservable.subscribe(this.overlayEventListener),this.onShow.emit(null)),this.isOverlayAnimationInProgress=!0}onAnimationEnd(e){switch(e.toState){case"void":this.destroyCallback&&(this.destroyCallback(),this.destroyCallback=null),this.overlaySubscription&&this.overlaySubscription.unsubscribe();break;case"close":this.autoZIndex&&M.clear(this.container),this.overlaySubscription&&this.overlaySubscription.unsubscribe(),this.onContainerDestroy(),this.onHide.emit({}),this.render=!1;break}this.isOverlayAnimationInProgress=!1}focus(){let e=v.findSingle(this.container,"[autofocus]");e&&this.zone.runOutsideAngular(()=>{setTimeout(()=>e.focus(),5)})}hide(){this.overlayVisible=!1,this.cd.markForCheck()}onCloseClick(e){this.hide(),e.preventDefault()}onEscapeKeydown(e){this.hide()}onWindowResize(){this.overlayVisible&&!v.isTouchDevice()&&this.hide()}bindDocumentResizeListener(){if(V(this.platformId)&&!this.documentResizeListener){let e=this.document.defaultView;this.documentResizeListener=this.renderer.listen(e,"resize",this.onWindowResize.bind(this))}}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindScrollListener(){V(this.platformId)&&(this.scrollHandler||(this.scrollHandler=new Ie(this.target,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener())}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onContainerDestroy(){this.cd.destroyed||(this.target=null),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&M.clear(this.container),this.cd.destroyed||(this.target=null),this.destroyCallback=null,this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.overlaySubscription&&this.overlaySubscription.unsubscribe()}static \u0275fac=function(i){return new(i||t)(h(fe),h(G),h(U),h(J),h(me),h(ee),h(Ce),h(be))};static \u0275cmp=T({type:t,selectors:[["p-overlayPanel"]],contentQueries:function(i,n,r){if(i&1&&se(r,H,4),i&2){let d;ae(d=le())&&(n.templates=d)}},hostAttrs:[1,"p-element"],hostBindings:function(i,n){i&1&&_("keydown.escape",function(d){return n.onEscapeKeydown(d)},!1,X)},inputs:{ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",dismissable:[b.HasDecoratorInputTransform,"dismissable","dismissable",O],showCloseIcon:[b.HasDecoratorInputTransform,"showCloseIcon","showCloseIcon",O],style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:[b.HasDecoratorInputTransform,"autoZIndex","autoZIndex",O],ariaCloseLabel:"ariaCloseLabel",baseZIndex:[b.HasDecoratorInputTransform,"baseZIndex","baseZIndex",ue],focusOnShow:[b.HasDecoratorInputTransform,"focusOnShow","focusOnShow",O],showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onShow:"onShow",onHide:"onHide"},features:[te],ngContentSelectors:Ke,decls:1,vars:1,consts:[["role","dialog",3,"ngClass","ngStyle","class","click",4,"ngIf"],["role","dialog",3,"click","ngClass","ngStyle"],[1,"p-overlaypanel-content",3,"click","mousedown"],[4,"ngTemplateOutlet"],["type","button","class","p-overlaypanel-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],["type","button","pRipple","",1,"p-overlaypanel-close","p-link",3,"click","keydown.enter"],[3,"styleClass",4,"ngIf"],["class","p-overlaypanel-close-icon",4,"ngIf"],[3,"styleClass"],[1,"p-overlaypanel-close-icon"]],template:function(i,n){i&1&&(oe(),f(0,it,5,16,"div",0)),i&2&&p("ngIf",n.render)},dependencies:()=>[S,L,ve,_e,Oe,W],styles:[`@layer primeng{.p-overlaypanel{position:absolute;margin-top:10px;top:0;left:0}.p-overlaypanel-flipped{margin-top:0;margin-bottom:10px}.p-overlaypanel-close{display:flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-overlaypanel:after,.p-overlaypanel:before{bottom:100%;left:calc(var(--overlayArrowLeft, 0) + 1.25rem);content:" ";height:0;width:0;position:absolute;pointer-events:none}.p-overlaypanel:after{border-width:8px;margin-left:-8px}.p-overlaypanel:before{border-width:10px;margin-left:-10px}.p-overlaypanel-shifted:after,.p-overlaypanel-shifted:before{left:auto;right:1.25em;margin-left:auto}.p-overlaypanel-flipped:after,.p-overlaypanel-flipped:before{bottom:auto;top:100%}.p-overlaypanel.p-overlaypanel-flipped:after{border-bottom-color:transparent}.p-overlaypanel.p-overlaypanel-flipped:before{border-bottom-color:transparent}}
`],encapsulation:2,data:{animation:[ye("animation",[E("void",D({transform:"scaleY(0.8)",opacity:0})),E("close",D({opacity:0})),E("open",D({transform:"translateY(0)",opacity:1})),Q("void => open",$("{{showTransitionParams}}")),Q("open => close",$("{{hideTransitionParams}}"))])]},changeDetection:0})}return t})(),ze=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=C({type:t});static \u0275inj=y({imports:[P,Te,q,W,q]})}return t})();var ot=()=>({width:"100%"}),rt=()=>({width:"450px"}),st=t=>({"border-top-1 surface-border":t});function at(t,o){t&1&&x(0,"img",23)}function lt(t,o){t&1&&x(0,"img",24)}function ct(t,o){if(t&1){let e=g();l(0,"div",18)(1,"p-button",25),_("onClick",function(n){m(e);let r=c().$implicit,d=c(2),j=k(10);return u(d.toggleComents(n,j,r))}),a()()}}function pt(t,o){if(t&1){let e=g();l(0,"div",18)(1,"p-button",26),_("onClick",function(n){m(e);let r=c().$implicit,d=c(2);return u(d.changeStatusOrder(n,r,2))}),a()()}}function dt(t,o){if(t&1){let e=g();l(0,"div",18)(1,"p-button",27),_("onClick",function(n){m(e);let r=c().$implicit,d=c(2);return u(d.changeStatusOrder(n,r,3))}),a()()}if(t&2){let e=c().$implicit;s(),p("disabled",e.statusOrderId===1)}}function mt(t,o){if(t&1&&(l(0,"div",13)(1,"div",14)(2,"div",15),f(3,at,1,0,"img",16)(4,lt,1,0,"img",17),a(),l(5,"div",18)(6,"div",19),w(7),a()(),l(8,"div",20)(9,"div",21),w(10),a()(),f(11,ct,2,0,"div",22)(12,pt,2,0,"div",22)(13,dt,2,1,"div",22),a()()),t&2){let e=o.$implicit,i=o.first;s(),p("ngClass",de(8,st,!i)),s(2),p("ngIf",e.statusOrderId==1&&!e.isCancel),s(),p("ngIf",e.statusOrderId==2&&!e.isCancel),s(3),I(e.table==null?null:e.table.name),s(3),I(e.quantity+" "+(e.meal==null?null:e.meal.name)),s(),p("ngIf",e.aditional!=null),s(),p("ngIf",e.statusOrderId!=2),s(),p("ngIf",e.statusOrderId!=3)}}function ut(t,o){if(t&1&&(l(0,"div",11),f(1,mt,14,10,"div",12),a()),t&2){let e=o.$implicit;s(),p("ngForOf",e)}}function ft(t,o){if(t&1){let e=g();l(0,"div",28)(1,"div",29),x(2,"i",30),a(),l(3,"span",31),w(4),a(),l(5,"p",32),w(6),a(),l(7,"div",33)(8,"button",34),_("click",function(){m(e),c();let n=k(7);return u(n.accept())}),a(),l(9,"button",35),_("click",function(){m(e),c();let n=k(7);return u(n.reject())}),a()()()}if(t&2){let e=o.$implicit;s(4),ce(" ",e.header," "),s(2),I(e.message)}}function ht(t,o){if(t&1&&(l(0,"div",19),w(1),a()),t&2){let e=c();s(),I(e.coments)}}var Ne=(()=>{let o=class o{constructor(i,n,r){this.confirmationService=i,this._serviceOrder=n,this.hub=r}ngOnInit(){return R(this,null,function*(){this.retrieveOrders(),this.hub.receiveOrderToKitchen().subscribe(i=>{this.retrieveOrders()})})}delay(i){return R(this,null,function*(){return new Promise(n=>setTimeout(n,i))})}retrieveOrders(){this._serviceOrder.getItemsByInstance().subscribe({next:i=>{this.items=i.filter(n=>n.isCancel==!1&&(n.statusOrderId==1||n.statusOrderId==2))},error:i=>console.error(i)})}changeStatusOrder(i,n,r){this.confirmationService.confirm({target:i.target,message:"",header:r==2?"Se inicio con la preparacion?":"Se envio el alimento?",accept:()=>{n.statusOrderId=r,this._serviceOrder.updateItem(n.id,n).subscribe({next:d=>{this.hub.sendOrder(n)},error:d=>console.error(d)})}})}toggleComents(i,n,r){this.coments=r.aditional,n.toggle(i)}};o.\u0275fac=function(n){return new(n||o)(h(F),h(xe),h(we))},o.\u0275cmp=T({type:o,selectors:[["app-tables"]],features:[pe([F])],decls:12,vars:8,consts:[["dv",""],["cd",""],["op",""],[1,"grid"],[1,"col-lg-10","col-sm-12","col-lg-offset-2"],["header","Ordenes"],["emptyMessage","Sin ordenes en proceso",3,"value"],["pTemplate","list"],["pTemplate","headless"],[3,"showCloseIcon"],["pTemplate","content"],[1,"grid","grid-nogutter"],["class","col-12",4,"ngFor","ngForOf"],[1,"col-12"],[1,"grid",3,"ngClass"],[1,"col-fixed"],["alt","dropdown icon","src","/assets/images/icon/process.svg","style","width: 25px;",4,"ngIf"],["alt","dropdown icon","src","/assets/images/icon/uniform.svg","style","width: 25px;",4,"ngIf"],[1,"col-fixed","gap-1"],[1,"font-medium","text-700","mt-2"],[1,"col","gap-2"],[1,"text-lg","font-medium","text-900","mt-2"],["class","col-fixed gap-1",4,"ngIf"],["alt","dropdown icon","src","/assets/images/icon/process.svg",2,"width","25px"],["alt","dropdown icon","src","/assets/images/icon/uniform.svg",2,"width","25px"],["severity","secondary","icon","pi pi-comment",1,"flex-auto","md:align-items-end","white-space-nowrap",3,"onClick"],["severity","warning","icon","pi pi-flag",1,"flex-auto","md:align-items-end","white-space-nowrap",3,"onClick"],["severity","help","icon","pi pi-send",1,"flex-auto","md:align-items-end","white-space-nowrap",3,"onClick","disabled"],[1,"flex","flex-column","align-items-center","p-5","surface-overlay","border-round"],[1,"border-circle","bg-primary","inline-flex","justify-content-center","align-items-center","h-6rem","w-6rem"],[1,"pi","pi-question","text-5xl"],[1,"font-bold","text-2xl","block","mb-2","mt-4"],[1,"mb-0"],[1,"flex","align-items-center","gap-2","mt-4"],["pButton","","label","Si",1,"w-8rem",3,"click"],["pButton","","label","No",1,"p-button-outlined","w-8rem",3,"click"]],template:function(n,r){n&1&&(l(0,"div",3)(1,"div",4)(2,"p-card",5)(3,"p-dataView",6,0),f(5,ut,2,1,"ng-template",7),a()()()(),l(6,"p-confirmDialog",null,1),f(8,ft,10,2,"ng-template",8),a(),l(9,"p-overlayPanel",9,2),f(11,ht,2,1,"ng-template",10),a()),n&2&&(s(2),N(B(6,ot)),s(),p("value",r.items),s(6),N(B(7,rt)),p("showCloseIcon",!0))},dependencies:[S,he,L,ke,Se,H,Ee,Fe,je,Ae]});let t=o;return t})();var Be=(()=>{let o=class o{};o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=C({type:o}),o.\u0275inj=y({imports:[K.forChild([{path:"",component:Ne}]),K]});let t=o;return t})();var oi=(()=>{let o=class o{};o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=C({type:o}),o.\u0275inj=y({imports:[P,Be,Le,Pe,Ve,ge,De,Me,He,Re,ze]});let t=o;return t})();export{oi as OrdersModule};
