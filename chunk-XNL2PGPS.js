import{h as z,k as D}from"./chunk-IFFKKBZV.js";import"./chunk-BQVHG75P.js";import{a as A,g as $,n as q}from"./chunk-OSNXDCNO.js";import"./chunk-QFKRZ7EC.js";import{b as j,c as N}from"./chunk-GQ2UZOTQ.js";import{n as R,p as P}from"./chunk-5C42LTVV.js";import"./chunk-4YRY4IP2.js";import{g as f,l as F}from"./chunk-IDCO3KAE.js";import{$a as B,Ca as S,Ea as I,Fa as M,P as n,Q as c,Y as p,_ as o,_a as k,ab as E,ba as T,da as a,ea as r,fa as l,g as _,la as g,oa as x,pa as w,t as d,tb as O,vb as h,wa as u,x as y,xa as C,y as m,ya as v}from"./chunk-LVDDLAXI.js";var Y=()=>({width:"100%"}),Z=t=>({"border-top-1 surface-border":t});function H(t,s){t&1&&l(0,"i",21)}function J(t,s){t&1&&l(0,"i",22)}function G(t,s){if(t&1&&l(0,"button",23),t&2){let e=g().$implicit;x("pTooltip",e.isRequestAttendace?"Necesita asistencia":""),o("rounded",!0)("text",!e.isRequestAttendace)("raised",!0)}}function K(t,s){if(t&1&&l(0,"button",24),t&2){let e=g().$implicit;x("pTooltip",e.isRequestCheck?"Solicito la cuenta":""),o("rounded",!0)("text",!e.isRequestCheck)("raised",!0)}}function Q(t,s){if(t&1&&(a(0,"div",10)(1,"div",11)(2,"div",12),p(3,H,1,0,"i",13)(4,J,1,0,"i",14),r(),a(5,"div",15)(6,"div",16),u(7),r()(),a(8,"div",17),p(9,G,1,4,"button",18),r(),a(10,"div",17),p(11,K,1,4,"button",19),r(),a(12,"div",17),l(13,"p-button",20),r()()()),t&2){let e=s.$implicit,i=s.first;n(),o("ngClass",M(11,Z,!i)),n(2),o("ngIf",!e.isBusy),n(),o("ngIf",e.isBusy),n(3),C(e.name),n(2),o("ngIf",e.isBusy),n(2),o("ngIf",e.isBusy),n(2),w("routerLink","/kitchen/table/",e.identity,""),o("rounded",!0)("text",!0)("raised",!0)}}function U(t,s){if(t&1&&(a(0,"div",8),p(1,Q,14,13,"div",9),r()),t&2){let e=s.$implicit;n(),o("ngForOf",e)}}function X(t,s){if(t&1&&(a(0,"section",25),l(1,"i",26),a(2,"div",27)(3,"p",28),u(4),r(),a(5,"p",29),u(6),r()()()),t&2){let e=s.$implicit;n(4),v(" ",e.summary," "),n(2),v(" ",e.detail," ")}}var V=(()=>{class t{constructor(e,i,b){this.messageService=e,this.tableServices=i,this.hub=b,this.isBusyTableService=!1}ngOnInit(){this.retrieveTables(),this.hub.notificationWarnTables().subscribe(e=>{e.isRequestAttendace&&this.messageService.add({summary:"Asistencia",detail:`La ${e.name} necesita ayuda`,life:3e3}),e.isRequestCheck&&this.messageService.add({summary:"Cuenta",detail:`La ${e.name} solicito la cuenta`,life:3e3}),this.retrieveTables()}),this.hub.notificationDangerTables().subscribe(e=>{console.log("notificationWarnAttendace",e),this.messageService.add({summary:"Asistencia",detail:"Se solicito asistencia",life:3e3}),this.retrieveTables()})}delay(e){return _(this,null,function*(){return new Promise(i=>setTimeout(i,e))})}retrieveTables(){this.isBusyTableService||(this.isBusyTableService=!0,this.tableServices.getItemsByInstance().subscribe({next:e=>{this.isBusyTableService=!1,this.tables=e},error:e=>{this.messageService.add({severity:"warn",summary:"Alerta",detail:e.error.messages}),this.isBusyTableService=!1}}))}static{this.\u0275fac=function(i){return new(i||t)(c(f),c(R),c(P))}}static{this.\u0275cmp=y({type:t,selectors:[["app-tables"]],features:[S([f])],decls:8,vars:5,consts:[["dv",""],[1,"flex","flex-wrap","justify-content-center"],[1,"w-full"],["header","Mesas"],["emptyMessage","Sin mesas registradas",3,"value"],["pTemplate","list"],["position","top-center",3,"baseZIndex"],["pTemplate","headless"],[1,"grid","grid-nogutter"],["class","col-12 m-1",4,"ngFor","ngForOf"],[1,"col-12","m-1"],[1,"grid",3,"ngClass"],[1,"col-fixed"],["class","pi pi-bookmark mt-2","style","font-size: 1.5rem","pTooltip","Mesa disponible",4,"ngIf"],["class","pi pi-bookmark-fill mt-2","style","font-size: 1.5rem","pTooltip","Mesa ocupada",4,"ngIf"],[1,"col"],[1,"font-medium","text-700","mt-2"],[1,"col-fixed","gap-1"],["pButton","","icon","pi pi-flag-fill","class","p-button-info",3,"rounded","text","raised","pTooltip",4,"ngIf"],["pButton","","icon","pi pi-dollar","class","p-button-warning",3,"rounded","text","raised","pTooltip",4,"ngIf"],["icon","pi pi-sign-in","pTooltip","Ver detalles de la mesa",3,"routerLink","rounded","text","raised"],["pTooltip","Mesa disponible",1,"pi","pi-bookmark","mt-2",2,"font-size","1.5rem"],["pTooltip","Mesa ocupada",1,"pi","pi-bookmark-fill","mt-2",2,"font-size","1.5rem"],["pButton","","icon","pi pi-flag-fill",1,"p-button-info",3,"rounded","text","raised","pTooltip"],["pButton","","icon","pi pi-dollar",1,"p-button-warning",3,"rounded","text","raised","pTooltip"],[1,"flex","p-3","gap-3","w-full","bg-black-alpha-90","shadow-2",2,"border-radius","10px"],[1,"pi","pi-info","text-primary-300","text-2xl"],[1,"flex","flex-column","gap-3","w-full"],[1,"m-0","font-semibold","text-base","text-white"],[1,"m-0","text-base","text-400"]],template:function(i,b){i&1&&(a(0,"div",1)(1,"div",2)(2,"p-card",3)(3,"p-dataView",4,0),p(5,U,2,1,"ng-template",5),r()()()(),a(6,"p-toast",6),p(7,X,7,2,"ng-template",7),r()),i&2&&(n(2),T(I(4,Y)),n(),o("value",b.tables),n(3),o("baseZIndex",5e3))},dependencies:[O,k,B,E,j,N,F,A,q,z,$],styles:[".button-table[_ngcontent-%COMP%]{appearance:none;background-color:var(--primary-color);border-radius:4px;border-width:0;box-shadow:#2d234266 0 2px 4px,#2d23424d 0 7px 13px -3px,var(--highlight-text-color) 0 -3px 0 inset;box-sizing:border-box;color:#36395a;cursor:pointer;font-family:JetBrains Mono,monospace;list-style:none;overflow:hidden;padding-left:16px;padding-right:16px;position:relative;text-decoration:none;transition:box-shadow .15s,transform .15s;user-select:none;-webkit-user-select:none;touch-action:manipulation;white-space:nowrap;will-change:box-shadow,transform;font-size:18px}.button-table[_ngcontent-%COMP%]:focus{box-shadow:#d6d6e7 0 0 0 1.5px inset,#2d234266 0 2px 4px,#2d23424d 0 7px 13px -3px,var(--highlight-text-color) 0 -3px 0 inset}.button-table[_ngcontent-%COMP%]:hover{box-shadow:#2d234266 0 4px 8px,#2d23424d 0 7px 13px -3px,var(--highlight-text-color) 0 -3px 0 inset;transform:translateY(-2px)}.button-table[_ngcontent-%COMP%]:active{box-shadow:#d6d6e7 0 3px 7px inset;transform:translateY(2px)}@media (hover: hover) and (pointer: fine){.button-table[_ngcontent-%COMP%]{height:20vi;width:35vi}}@media (hover: none) and (pointer: coarse){.button-table[_ngcontent-%COMP%]{height:25vi;width:41vi}}"]})}}return t})();var W=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=m({type:t})}static{this.\u0275inj=d({imports:[h.forChild([{path:"",component:V}]),h]})}}return t})();var he=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=m({type:t})}static{this.\u0275inj=d({imports:[W,D]})}}return t})();export{he as TablesModule};
