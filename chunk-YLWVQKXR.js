import{a as R}from"./chunk-64WP64BE.js";import{b as K,e as Q,f as U,g as X,h as Z,j as ee}from"./chunk-RUSD7P4Y.js";import"./chunk-J6VSZILJ.js";import{a as q,g as J,n as H}from"./chunk-4JEEGTY5.js";import"./chunk-4HF4CYB4.js";import{b as L,c as Y}from"./chunk-BJ7UQRZ4.js";import{b as O,d as P,g as W,k as A,s as $}from"./chunk-BFCD6XJQ.js";import"./chunk-4YRY4IP2.js";import{e as z,l as G}from"./chunk-JY4AAIVW.js";import{A as a,B as s,Da as j,N as p,O as w,W as u,Y as f,Ya as B,Za as D,ba as o,ca as n,da as g,db as F,ha as x,ia as c,ja as _,na as I,r as C,sb as k,ta as y,ua as b,v as V,va as S,w as v,wa as N,xa as M,ya as T,za as E}from"./chunk-VUSRYWWQ.js";var re=t=>({"border-top-1 surface-border":t});function ne(t,m){t&1&&g(0,"img",19)}function ae(t,m){if(t&1){let e=x();o(0,"div",22)(1,"div",23)(2,"div",24)(3,"div",25),b(4),n()(),o(5,"div",26)(6,"p-button",27),c("click",function(){let r=a(e).$implicit,l=_(2);return s(l.showModal(!0,r))}),n()(),o(7,"div",26)(8,"p-button",28),c("click",function(){let r=a(e).$implicit,l=_(2);return s(l.confirmDeleted(r))}),n()()()()}if(t&2){let e=m.$implicit,i=m.first;p(),f("ngClass",j(2,re,!i)),p(3),S(e.name)}}function se(t,m){if(t&1&&(o(0,"div",20),u(1,ae,9,4,"div",21),n()),t&2){let e=m.$implicit;p(),f("ngForOf",e)}}function le(t,m){if(t&1){let e=x();o(0,"div",29)(1,"div",30),g(2,"i",31),n(),o(3,"span",32),b(4),n(),o(5,"p",33),b(6),n(),o(7,"div",34)(8,"button",35),c("click",function(){a(e),_();let r=y(22);return s(r.accept())}),n(),o(9,"button",36),c("click",function(){a(e),_();let r=y(22);return s(r.reject())}),n()()()}if(t&2){let e=m.$implicit;p(4),N(" ",e.header," "),p(2),S(e.message)}}var ie=(()=>{class t{constructor(e,i){this.confirmationService=e,this.categoriesServices=i,this.categories=[],this.categorie={},this.visibleModal=!1,this.isEdit=!1}ngOnInit(){this.getCategories()}getCategories(){this.categoriesServices.getItemsByInstance().subscribe({next:e=>{this.categories=e},error:e=>console.error(e)})}showModal(e=!1,i){this.isEdit=e,e?this.categorie=i:this.categorie=new R,this.visibleModal=!0}confirmSave(){this.isEdit?this.categoriesServices.updateItem(this.categorie.id,this.categorie).subscribe({next:e=>this.getCategories(),error:e=>console.error(e)}):this.categoriesServices.createItem(this.categorie).subscribe({next:e=>this.getCategories(),error:e=>console.error(e)}),this.visibleModal=!1}confirmDeleted(e){this.confirmationService.confirm({header:"Estas seguro de eliminar?",message:"Por favor de confirmar.",accept:()=>{this.categoriesServices.deleteItem(this.categorie.id).subscribe({next:i=>this.getCategories(),error:i=>console.error(i)})}})}static{this.\u0275fac=function(i){return new(i||t)(w(z),w(A))}}static{this.\u0275cmp=V({type:t,selectors:[["app-categories"]],decls:24,vars:8,consts:[["dv",""],["cd",""],["header","Categorias",1,""],["pTemplate","header"],[1,"w-full"],[1,"pi","pi-search"],["type","text","pInputText","","placeholder","Buscar categoria","pTooltip","Escribe para buscar"],["type","button","pButton","","icon","pi pi-plus","size","small","pTooltip","Nueva categoria",1,"p-button-success",3,"click"],["emptyMessage","Sin categorias registradas",3,"value","rows","paginator"],["pTemplate","list"],[3,"visibleChange","header","modal","visible"],[1,"formgrid","grid","gap-3","mb-3","mt-3"],[1,"field","col-12"],["for","tableName"],["id","tableName","type","text",1,"text-base","text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary","w-full",3,"ngModelChange","ngModel"],[1,"flex","justify-content-end","gap-2"],["label","Cancel","severity","secondary",3,"click"],["label","Save",3,"click"],["pTemplate","headless"],["alt","Card","src","../../../../assets/layout/images/restaurante.webp",2,"max-height","15vh","object-fit","cover"],[1,"grid","grid-nogutter"],["class","col-12",4,"ngFor","ngForOf"],[1,"col-12"],[1,"grid","p-2",3,"ngClass"],[1,"col"],[1,"overflow-hidden","text-overflow-ellipsis","text-lg","font-medium","text-900","mt-2",2,"width","100px"],[1,"col-fixed","gap-1"],["icon","pi pi-pencil","size","small","pTooltip","Editar",3,"click"],["severity","danger","icon","pi pi-trash","size","small","pTooltip","Eliminar",3,"click"],[1,"flex","flex-column","align-items-center","p-5","surface-overlay","border-round"],[1,"border-circle","bg-primary","inline-flex","justify-content-center","align-items-center","h-6rem","w-6rem"],[1,"pi","pi-question","text-5xl"],[1,"font-bold","text-2xl","block","mb-2","mt-4"],[1,"mb-0"],[1,"flex","align-items-center","gap-2","mt-4"],["pButton","","label","Si",1,"w-8rem",3,"click"],["pButton","","label","No",1,"p-button-outlined","w-8rem",3,"click"]],template:function(i,r){if(i&1){let l=x();o(0,"p-card",2),u(1,ne,1,0,"ng-template",3),o(2,"div")(3,"p-inputGroup",4)(4,"p-inputGroupAddon"),g(5,"i",5),n(),g(6,"input",6),o(7,"button",7),c("click",function(){return a(l),s(r.showModal())}),n()(),o(8,"p-dataView",8,0),u(10,se,2,1,"ng-template",9),n()()(),o(11,"p-dialog",10),E("visibleChange",function(d){return a(l),T(r.visibleModal,d)||(r.visibleModal=d),s(d)}),o(12,"div",11)(13,"div",12)(14,"label",13),b(15,"Nombre de la categoria"),n(),o(16,"input",14),E("ngModelChange",function(d){return a(l),T(r.categorie.name,d)||(r.categorie.name=d),s(d)}),n()()(),o(17,"div",15)(18,"p-button",16),c("click",function(){return a(l),s(r.visibleModal=!1)}),n(),o(19,"p-button",17),c("click",function(){return a(l),s(r.confirmSave())}),n()()(),g(20,"p-toast"),o(21,"p-confirmDialog",null,1),u(23,le,10,2,"ng-template",18),n()}i&2&&(p(8),f("value",r.categories)("rows",5)("paginator",!0),p(3),I("header","",r.isEdit?"Editar":"Nueva"," categoria"),f("modal",!0),M("visible",r.visibleModal),p(5),M("ngModel",r.categorie.name))},dependencies:[B,D,L,Y,G,$,O,P,W,q,H,Q,U,K,Z,X,J],styles:[".button-table[_ngcontent-%COMP%]{appearance:none;background-color:#fcfcfd;border-radius:4px;border-width:0;box-shadow:#2d234266 0 2px 4px,#2d23424d 0 7px 13px -3px,#d6d6e7 0 -3px inset;box-sizing:border-box;color:#36395a;cursor:pointer;font-family:JetBrains Mono,monospace;height:35vh;width:30vw;list-style:none;overflow:hidden;padding-left:16px;padding-right:16px;position:relative;text-decoration:none;transition:box-shadow .15s,transform .15s;user-select:none;-webkit-user-select:none;touch-action:manipulation;white-space:nowrap;will-change:box-shadow,transform;font-size:18px}.button-table[_ngcontent-%COMP%]:focus{box-shadow:#d6d6e7 0 0 0 1.5px inset,#2d234266 0 2px 4px,#2d23424d 0 7px 13px -3px,#d6d6e7 0 -3px inset}.button-table[_ngcontent-%COMP%]:hover{box-shadow:#2d234266 0 4px 8px,#2d23424d 0 7px 13px -3px,#d6d6e7 0 -3px inset;transform:translateY(-2px)}.button-table[_ngcontent-%COMP%]:active{box-shadow:#d6d6e7 0 3px 7px inset;transform:translateY(2px)}"]})}}return t})();var oe=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=v({type:t})}static{this.\u0275inj=C({imports:[k.forChild([{path:"",component:ie}]),k]})}}return t})();var Be=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=v({type:t})}static{this.\u0275inj=C({imports:[F,oe,ee]})}}return t})();export{Be as CategoriesModule};
